<% include header.ejs %>
<% include font-control.ejs %>
<br/>
<div class="login-auth-container">
  <div class="login-auth-left">
    <h1>Biblioteca livre</h1>
    <h2>Criar conta</h2>
    <form action="/register" method="POST">
      <div class="login-input-wrapper">
        <input type="text" placeholder="Nome de usuário" id="name" name="name" value="<%= lastTypedValues && lastTypedValues.name ? lastTypedValues.name : '' %>">
        <i class="fas fa-user"></i>
      </div>
      <div class="login-error-message">
        <% if (authError) { %>
          <div id="customToast" class="custom-toast hide"><%= authError %></div>
          <script>
            toastr.error(`<%= authError %>`)
          </script>
        <% } %>
        <% if (validationErrors && validationErrors.length > 0) { %>
          <% validationErrors.forEach(error => { %>
            <script>
              toastr.error(`<%= error.msg %>`)
            </script>
          <% }); %>
        <% } %>
      </div>
      <div class="login-input-wrapper">
        <input type="email" placeholder="E-mail de usuário" id="email" name="email" value="<%= lastTypedValues && lastTypedValues.email ? lastTypedValues.email : '' %>">
        <i class="fas fa-envelope"></i>
      </div>
      <div class="login-input-wrapper">
        <input type="password" placeholder="Digite sua senha" id="password" name="password">
        <i class="fas fa-lock"></i>
      </div>
      <div class="login-input-wrapper">
        <input type="password" placeholder="Confirme a senha" id="passwordConfirm" name="passwordConfirm">
        <i class="fas fa-lock"></i>
      </div>
      <div class="login-input-wrapper">
        <button class="login-btn-submit" type="submit">Criar</button>
      </div>
    </form>
    <div class="login-auth-links-wrapper">
      <a href="/login" class="login-auth-link">Já possui conta? Acessar</a>
    </div>
  </div>
</div>
<% include footer.ejs %>
